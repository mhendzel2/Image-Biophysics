# Core scientific stack
# NOTE: NumPy capped at <2.0 for compatibility with older AI packages (stardist, n2v, csbdeep)
# These packages use numpy.distutils which was removed in NumPy 2.0
numpy>=1.23.0,<2.0
scipy>=1.11.0
pandas>=2.0.0
matplotlib>=3.7.0
plotly>=5.14.0
scikit-image>=0.21.0
opencv-python>=4.8.0
tifffile>=2023.7.0
h5py>=3.9.0
pims>=0.6.1
trackpy>=0.6.0

# Correlation / spectroscopy
multipletau>=0.4.1
lmfit>=1.3.3
fcsfiles>=2025.1.1

# Imaging formats
readlif>=0.6.5
pylibczirw>=5.0.0

# Database (optional)
psycopg2-binary>=2.9.10

# Streamlit webapp
streamlit>=1.45.1

############################################################
# Recommended Python version: 3.10.x or 3.11.x
# Reason: Many AI/scientific packages (stardist, n2v, csbdeep) require NumPy <2.0
# which is incompatible with Python 3.13. NumPy 1.x doesn't have wheels for Python 3.12+.
# Use Python 3.10 or 3.11 for best compatibility.
# Use pyenv / conda to create a Python 3.10 or 3.11 environment.
############################################################

# AI / Deep learning (install CUDA wheels where appropriate)
torch>=2.0.0
torchvision>=0.15.0
# Optional AI segmentation / restoration extras
cellpose>=3.0.0  # Uses newer architecture compatible with NumPy 1.x
stardist>=0.9.0  # Newer version with better NumPy compatibility
csbdeep>=0.7.4
n2v>=0.3.3  # Noise2Void library is published as 'n2v', not 'noise2void'
# TensorFlow pinned to avoid NumPy 2.0 issues
tensorflow>=2.13.0,<2.16.0  # optional; only needed for some AI methods

# Reporting
reportlab>=4.0.0
jinja2>=3.1.0
markdown>=3.4.0

# Misc / utilities
setuptools>=65.0.0
wheel>=0.40.0

# NOTE:
# - Packages are aligned with pyproject.toml (authoritative) and setup.py extras.
# - Comment out heavy/optional AI deps if not needed.
anyio>=4.4.0 # not directly required, pinned by Snyk to avoid a vulnerability
dnspython>=2.6.1 # not directly required, pinned by Snyk to avoid a vulnerability
fonttools>=4.43.0 # not directly required, pinned by Snyk to avoid a vulnerability
h11>=0.16.0 # not directly required, pinned by Snyk to avoid a vulnerability
imagecodecs>=2023.9.18 # not directly required, pinned by Snyk to avoid a vulnerability
pillow>=10.3.0 # not directly required, pinned by Snyk to avoid a vulnerability
requests>=2.32.4 # not directly required, pinned by Snyk to avoid a vulnerability
urllib3>=2.5.0 # not directly required, pinned by Snyk to avoid a vulnerability
wheel>=0.38.0 # not directly required, pinned by Snyk to avoid a vulnerability
zipp>=3.19.1 # not directly required, pinned by Snyk to avoid a vulnerability
